{
  "name": "Start a new Workflow",
  "description": "Initiate a new Workflow in Kotive",
  "documentation": "http://www.kotive.com/how-to/integrate/kotive",
  "fields": [
    {
      "label": "Group ID",
      "properties": {
        "parameter": "groupId",
        "fieldType": "text",
        "helptext": "ID of the group in which to start the workflow.<br>Important: the authenticated user needs to have access to this group.",
        "default": "{group.id}"
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "Workflow ID",
      "properties": {
        "parameter": "workflowId",
        "fieldType": "text",
        "helptext": "ID of the Workflow to start"
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "Fields payload",
      "properties": {
        "parameter": "payload",
        "fieldType": "textarea",
        "helptext": "JSON data for fields to start a Workflow.",
        "default": "[{{ \"id\": \"-1_..._...\", \"value\": \"\"}}]"
      },
      "readonly": false,
      "required": true,
      "visible": true
    }
  ],
  "headers": {
    "Authorization": "Basic {base64_encode_username_password(auth.field.username:auth.field.password)}",
    "Content-Type": "application/json",
    "Accept": "application/json"
  },
  "method": "POST",
  "endpoint": "/apiv3/q/add/flow",
  "request": [
    {
      "groupId": "{field.groupId}",
      "workflowId": "{field.workflowId}",
      "fields": "{string_to_hash(field.payload)}"
    }
  ],
  "response": {
    "success": {},
    "error": {}
  }
}
