{
  "name": "Edit an issue",
  "description": "Edit an existing issue using Github.",
  "documentation": "https://developer.github.com/v3/issues/#edit-an-issue",
  "fields": [
    {
      "label": "Owner username",
      "properties": {
        "parameter": "owner",
        "fieldType": "text",
        "helptext": "The owner of the repository where you want to edit the issue."
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "Repository",
      "properties": {
        "parameter": "repository",
        "fieldType": "text",
        "helptext": "Enter the repository where you want to edit the issue."
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "Issue number",
      "properties": {
        "parameter": "issueNumber",
        "fieldType": "number",
        "helptext": "The issue number to query."
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "Title",
      "properties": {
        "parameter": "title",
        "fieldType": "text",
        "helptext": "The title of the issue."
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "Body",
      "properties": {
        "parameter": "body",
        "fieldType": "textarea",
        "helptext": "The contents of the issue."
      },
      "readonly": false,
      "required": true,
      "visible": true
    },
    {
      "label": "State",
      "properties": {
        "parameter": "state",
        "fieldType": "radio",
        "choices": [
          {"key": "open", "value": "Open"},
          {"key": "closed", "value": "Closed"}
        ],
        "default": "open",
        "classes": "inline",
        "helptext": "Is the issue open or closed?"
      },
      "readonly": false,
      "required": false,
      "visible": true
    },
    {
      "label": "Milestone",
      "properties": {
        "parameter": "milestone",
        "fieldType": "text",
        "helptext": "The number of the milestone to associate this issue with."
      },
      "readonly": false,
      "required": false,
      "visible": true
    },
    {
      "label": "Labels",
      "properties": {
        "parameter": "labels",
        "fieldType": "text",
        "default": "{}",
        "helptext": "Labels to associate with this issue. Note that these have to be in quotes and separated by commas, for example: '\"Big issue!\", \"Bug\"'"
      },
      "readonly": false,
      "required": false,
      "visible": true
    },
    {
      "label": "Assignees",
      "properties": {
        "parameter": "assignees",
        "fieldType": "text",
        "helptext": "Logins for users to assign to this issue, seperated by commas."
      },
      "readonly": false,
      "required": false,
      "visible": true
    }
  ],
  "headers": {
    "Authorization": "Bearer {auth.oauth2Token}"
  },
  "method": "PATCH",
  "endpoint": "/repos/{field.owner}/{field:repo}/issues/{field.issueNumber}",
  "request": {
    "title": "{field.title}",
    "body": "{field.body}",
    "state": "{field.state}",
    "milestone": "{string_to_int(field.milestone)}",
    "labels": "{string_to_hash(field.labels)}",
    "assignees": "{string_to_hash(field.assignees)}"
  },
  "response": {
    "success": "",
    "error": {}
  }
}
